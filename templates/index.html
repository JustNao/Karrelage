{% extends 'base.html' %} {% block script %}
<script>
  let changing = false;

  load = async function (module, class_name) {
    const loader = document.getElementById("loader");
    const className = loader.className;
    const newClassName = className.replace("hidden", "");
    loader.className = newClassName;
    await $.post("/load", { module: module, class_name: class_name });
    window.location.href = `/${module}`;
  };

  const switch_type = () => {
    if (changing) return;
    setTimeout(function () {
      changing = false;
    }, 50);
    $.post("/switch_type");
    changing = true;
  };

  window.resizeTo(500, 450);
</script>
{% endblock %} {% block content %}
<div class="w-full h-full bg-white flex flex-col justify-center items-center">
  <svg
    id="visual"
    viewBox="0 0 500 411"
    width="500"
    height="411"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    class="absolute top-0 left-0"
  >
    <path
      d="M0 61L7.5 65.8C15 70.7 30 80.3 45.2 75.3C60.3 70.3 75.7 50.7 90.8 42.2C106 33.7 121 36.3 136.2 45.5C151.3 54.7 166.7 70.3 181.8 70.3C197 70.3 212 54.7 227.2 48.3C242.3 42 257.7 45 272.8 47.2C288 49.3 303 50.7 318.2 50.7C333.3 50.7 348.7 49.3 363.8 54.3C379 59.3 394 70.7 409.2 67.2C424.3 63.7 439.7 45.3 454.8 36.2C470 27 485 27 492.5 27L500 27L500 0L492.5 0C485 0 470 0 454.8 0C439.7 0 424.3 0 409.2 0C394 0 379 0 363.8 0C348.7 0 333.3 0 318.2 0C303 0 288 0 272.8 0C257.7 0 242.3 0 227.2 0C212 0 197 0 181.8 0C166.7 0 151.3 0 136.2 0C121 0 106 0 90.8 0C75.7 0 60.3 0 45.2 0C30 0 15 0 7.5 0L0 0Z"
      fill="#424242"
    ></path>
    <path
      d="M0 124L7.5 128.3C15 132.7 30 141.3 45.2 145C60.3 148.7 75.7 147.3 90.8 145.8C106 144.3 121 142.7 136.2 155.3C151.3 168 166.7 195 181.8 212.7C197 230.3 212 238.7 227.2 224.5C242.3 210.3 257.7 173.7 272.8 155.3C288 137 303 137 318.2 139.8C333.3 142.7 348.7 148.3 363.8 153.3C379 158.3 394 162.7 409.2 167C424.3 171.3 439.7 175.7 454.8 162.8C470 150 485 120 492.5 105L500 90L500 25L492.5 25C485 25 470 25 454.8 34.2C439.7 43.3 424.3 61.7 409.2 65.2C394 68.7 379 57.3 363.8 52.3C348.7 47.3 333.3 48.7 318.2 48.7C303 48.7 288 47.3 272.8 45.2C257.7 43 242.3 40 227.2 46.3C212 52.7 197 68.3 181.8 68.3C166.7 68.3 151.3 52.7 136.2 43.5C121 34.3 106 31.7 90.8 40.2C75.7 48.7 60.3 68.3 45.2 73.3C30 78.3 15 68.7 7.5 63.8L0 59Z"
      fill="#303030"
    ></path>
    <path
      d="M0 158L7.5 165.2C15 172.3 30 186.7 45.2 189.5C60.3 192.3 75.7 183.7 90.8 180.8C106 178 121 181 136.2 196.7C151.3 212.3 166.7 240.7 181.8 261.2C197 281.7 212 294.3 227.2 284.3C242.3 274.3 257.7 241.7 272.8 220.5C288 199.3 303 189.7 318.2 185.5C333.3 181.3 348.7 182.7 363.8 184.7C379 186.7 394 189.3 409.2 200.7C424.3 212 439.7 232 454.8 227.2C470 222.3 485 192.7 492.5 177.8L500 163L500 88L492.5 103C485 118 470 148 454.8 160.8C439.7 173.7 424.3 169.3 409.2 165C394 160.7 379 156.3 363.8 151.3C348.7 146.3 333.3 140.7 318.2 137.8C303 135 288 135 272.8 153.3C257.7 171.7 242.3 208.3 227.2 222.5C212 236.7 197 228.3 181.8 210.7C166.7 193 151.3 166 136.2 153.3C121 140.7 106 142.3 90.8 143.8C75.7 145.3 60.3 146.7 45.2 143C30 139.3 15 130.7 7.5 126.3L0 122Z"
      fill="#1f1f1f"
    ></path>
    <path
      d="M0 256L7.5 259.5C15 263 30 270 45.2 277.8C60.3 285.7 75.7 294.3 90.8 296.5C106 298.7 121 294.3 136.2 297.2C151.3 300 166.7 310 181.8 320C197 330 212 340 227.2 338.5C242.3 337 257.7 324 272.8 304.8C288 285.7 303 260.3 318.2 255.5C333.3 250.7 348.7 266.3 363.8 273.3C379 280.3 394 278.7 409.2 291.3C424.3 304 439.7 331 454.8 330.3C470 329.7 485 301.3 492.5 287.2L500 273L500 161L492.5 175.8C485 190.7 470 220.3 454.8 225.2C439.7 230 424.3 210 409.2 198.7C394 187.3 379 184.7 363.8 182.7C348.7 180.7 333.3 179.3 318.2 183.5C303 187.7 288 197.3 272.8 218.5C257.7 239.7 242.3 272.3 227.2 282.3C212 292.3 197 279.7 181.8 259.2C166.7 238.7 151.3 210.3 136.2 194.7C121 179 106 176 90.8 178.8C75.7 181.7 60.3 190.3 45.2 187.5C30 184.7 15 170.3 7.5 163.2L0 156Z"
      fill="#1c1c1c"
    ></path>
    <path
      d="M0 426L7.5 426C15 426 30 426 45.2 426C60.3 426 75.7 426 90.8 426C106 426 121 426 136.2 426C151.3 426 166.7 426 181.8 426C197 426 212 426 227.2 426C242.3 426 257.7 426 272.8 426C288 426 303 426 318.2 426C333.3 426 348.7 426 363.8 426C379 426 394 426 409.2 426C424.3 426 439.7 426 454.8 426C470 426 485 426 492.5 426L500 426L500 271L492.5 285.2C485 299.3 470 327.7 454.8 328.3C439.7 329 424.3 302 409.2 289.3C394 276.7 379 278.3 363.8 271.3C348.7 264.3 333.3 248.7 318.2 253.5C303 258.3 288 283.7 272.8 302.8C257.7 322 242.3 335 227.2 336.5C212 338 197 328 181.8 318C166.7 308 151.3 298 136.2 295.2C121 292.3 106 296.7 90.8 294.5C75.7 292.3 60.3 283.7 45.2 275.8C30 268 15 261 7.5 257.5L0 254Z"
      fill="#191919"
    ></path>
  </svg>
  <svg
    version="1.1"
    id="Layer_1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    width="50px"
    height="80px"
    viewBox="0 0 120 200"
    class="absolute top-4 left-5 fill-white"
  >
    <g class="st0">
      <path
        class="st1"
        d="M40.4,100.3c0,1-0.8,1.7-1.8,1.7H8.3c-0.8,0-1.7-0.7-1.7-1.7s0.8-1.7,1.7-1.7h6V21.4h-5c-1,0-1.8-0.7-1.8-1.7
		S8.3,18,9.2,18L38,18c1,0,1.8,0.7,1.8,1.7S39,21.4,38,21.4h-5v77.3h5.6C39.6,98.6,40.4,99.4,40.4,100.3z M17.9,98.6h11.5V21.4H17.9
		V98.6z M86.8,100.3c0,1-0.8,1.7-1.8,1.7H54c-1,0-1.7-0.7-1.7-1.7s0.7-1.7,1.7-1.7h5.9l-25-39.4c-0.2-0.4-0.4-0.7-0.4-1.1
		c0-0.4,0.1-0.7,0.4-1l28-35.9h-7.7c-1,0-1.7-0.7-1.7-1.7s0.7-1.7,1.7-1.7l20.9,0c1,0,1.7,0.7,1.7,1.7s-0.7,1.7-1.7,1.7h-8.8
		L48.2,46l33.4,52.7H85C85.9,98.6,86.8,99.4,86.8,100.3z M64.2,98.6h13.3L46,48.8l-7.3,9.6L64.2,98.6z"
      />
    </g>
  </svg>
  <div
    class="flex flex-row justify-center items-center flex-auto -mt-20"
    id="module-list"
  >
    {% for module in modules %}
    <div class="self-center" id="string-search">
      <a>
        <button
          class="relative w-48 h-16 inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium rounded-lg group backdrop-blur-md border border-zinc-700 hover:bg-black/60 transition-all ease-in duration-75"
          onclick="load('{{ module[1] }}', '{{ module[2] }}')"
        >
          <span class="flex w-full h-full px-5 items-center justify-center">
            {{ module[0] }}
          </span>
        </button>
      </a>
    </div>
    {% endfor %}
  </div>
  <div class="flex flex-row mb-4">
    <span
      class="relative text-sm text-gray-300 h-6 mr-3 flex items-center"
    >
      Sniffer
    </span>
    <label class="relative inline-flex items-center" onclick="switch_type()">
      {% if type == "sniffer" %}
      <input
        type="checkbox"
        value=""
        id="negative-toggle"
        class="sr-only peer"
      />
      {% else %}
      <input
        type="checkbox"
        value=""
        id="negative-toggle"
        class="sr-only peer"
      />
      {% endif %}
      <div
        class="w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-blue-300 rounded-full pee peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-700"
      ></div>
      <span class="ml-3 text-sm text-gray-300">Attach</span>
    </label>
  </div>
</div>
<div
  id="loader"
  role="status"
  class="absolute w-full h-full bg-inherit flex justify-center items-center hidden"
>
  <svg
    aria-hidden="true"
    class="inline w-20 h-20 mr-2 text-gray-200 animate-spin fill-blue-600"
    viewBox="0 0 100 101"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"
      fill="currentColor"
    />
    <path
      d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"
      fill="currentFill"
    />
  </svg>
  <span class="sr-only">Loading...</span>
</div>
{% endblock %}
